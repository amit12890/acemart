/*!
 * @version 56254ba-dev
 * 
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"88oe":function(n,e,t){"use strict"
t.r(e),t.d(e,"default",function(){return j})
var a,r,u,i=t("q1tI"),c=t.n(i),o=t("kriW"),l=t("J4zp"),d=t.n(l),s=t("VX74"),f=t("Ty5D"),g=t("OlZo"),p=t("y1Xp"),m=t("VkAN"),b=t.n(m),y=Object(s.gql)(a||(a=b()(["\n    fragment ProductDetailsFragment on ProductInterface {\n        __typename\n        categories {\n            id\n            breadcrumbs {\n                category_id\n            }\n        }\n        description {\n            html\n        }\n        id\n        media_gallery_entries {\n            id\n            label\n            position\n            disabled\n            file\n        }\n        meta_description\n        name\n        price {\n            regularPrice {\n                amount {\n                    currency\n                    value\n                }\n            }\n        }\n        sku\n        small_image {\n            url\n        }\n        url_key\n        ... on ConfigurableProduct {\n            configurable_options {\n                attribute_code\n                attribute_id\n                id\n                label\n                values {\n                    uid\n                    default_label\n                    label\n                    store_label\n                    use_default_value\n                    value_index\n                    swatch_data {\n                        ... on ImageSwatchData {\n                            thumbnail\n                        }\n                        value\n                    }\n                }\n            }\n            variants {\n                attributes {\n                    code\n                    value_index\n                }\n                product {\n                    id\n                    media_gallery_entries {\n                        id\n                        disabled\n                        file\n                        label\n                        position\n                    }\n                    sku\n                    price {\n                        regularPrice {\n                            amount {\n                                currency\n                                value\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]))),_={getStoreConfigData:Object(s.gql)(r||(r=b()(["\n    query getStoreConfigData {\n        storeConfig {\n            id\n            product_url_suffix\n        }\n    }\n"]))),getProductDetailQuery:Object(s.gql)(u||(u=b()(["\n    query getProductDetailForProductPage($urlKey: String!) {\n        products(filter: { sku: { eq: $urlKey } }) {\n            items {\n                id\n                ...ProductDetailsFragment\n            }\n        }\n    }\n    ","\n"])),y)},P=t("ZaxC"),h=t("UPvi"),k=t("DUu4"),v=t("p7CK"),O=t("6p+X"),j=function Product(){var n=function useProduct(n){var e=n.mapProduct,t=Object(p.a)(_,n.operations),a=t.getStoreConfigData,r=t.getProductDetailQuery,u=Object(f.h)().pathname,c=Object(g.b)(),o=d()(c,2)[1].actions.setPageLoading,l=Object(s.useQuery)(a,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}).data,m=Object(i.useMemo)(function(){if(l)return l.storeConfig.product_url_suffix},[l]),b=u.split("/").pop(),y=m?b.replace(m,""):b,P=Object(s.useQuery)(r,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:!l,variables:{urlKey:b}}),h=P.error,k=P.loading,v=P.data,O=!!v&&k,j=Object(i.useMemo)(function(){if(!v)return null
var n=v.products.items.find(function(n){return n.sku===y})
return n?e(n):null},[v,e,y])
return Object(i.useEffect)(function(){o(O)},[O,o]),{error:h,loading:k,product:j}}({mapProduct:O.a}),e=n.error,t=n.loading,a=n.product
return t&&!a?k.a:e&&!a?c.a.createElement(P.a,null):a?c.a.createElement(i.Fragment,null,c.a.createElement(h.b,null,a.name),c.a.createElement(h.a,{name:"description",content:a.meta_description}),c.a.createElement(v.a,{product:a})):c.a.createElement("h1",null,c.a.createElement(o.a,{id:"product.outOfStockTryAgain",defaultMessage:"This Product is currently out of stock. Please try again later."}))}}}])
