{"version":3,"sources":["webpack:///./src/magento/pagebuilder/ContentTypes/Map/map.css","webpack:///./node_modules/load-google-maps-api/index.js","webpack:///./node_modules/lodash.escape/index.js","webpack:///./src/magento/pagebuilder/ContentTypes/Map/map.css?ac2d","webpack:///./src/magento/pagebuilder/ContentTypes/Map/map.js"],"names":["getLocationFormattedAsHtml","location","name","escape","comment","replace","phone","address","city","country","state","zipCode","zipcode","cityComma","length","lineBreak","GoogleMap","props","mapElement","useRef","classes","useStyle","defaultClasses","apiKey","locations","height","mapOptions","textAlign","border","borderColor","borderWidth","borderRadius","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","cssClasses","dynamicStyles","useEffect","googleMapsEvent","mapOverlayInstances","apiOptions","key","v","loadGoogleMapsApi","then","googleMaps","event","map","Map","current","positions","activeInfoWindow","forEach","position","LatLng","latitude","longitude","push","marker","Marker","title","infoWindow","InfoWindow","content","maxWidth","addListener","close","open","latitudeLongitudeBounds","LatLngBounds","extend","fitBounds","setCenter","setZoom","mapDefaultProps","zoom","catch","error","console","mapOverlayInstance","clearInstanceListeners","root","join","propTypes","shape","string","number","center","lat","lng","scrollwheel","bool","disableDoubleClickZoom","disableDefaultUI","mapTypeControl","mapTypeControlStyle","style","arrayOf","isRequired","styles","featureType","elementType","stylers","object","defaultProps"],"mappings":";;;;;;;;;;;AAAA,2BAA2B,mBAAO,CAAC,iHAA4D;AAC/F;AACA,cAAc,QAAS,kBAAkB,oBAAoB,GAAG,0CAA0C,oBAAoB,GAAG,4BAA4B,uBAAuB,GAAG,+BAA+B,yBAAyB,uBAAuB,GAAG,8BAA8B,sBAAsB,GAAG,0CAA0C,sBAAsB,GAAG,+BAA+B,sBAAsB,uBAAuB,gBAAgB,GAAG;;AAEle;AACA;AACA;AACA,E;;;;;;;;;;;;;ACPA;AACA;;AAEA;;AAEA;;AAEA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA,yBAAyB,IAAI,GAAG,aAAa;AAC7C;AACA,OAAO;AACP;AACA,iCAAiC,4BAA4B;AAC7D;AACA,6BAA6B,0BAA0B,GAAG,iBAAiB;;AAE3E;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb,YAAY;AACZ,YAAY;AACZ,cAAc;AACd,aAAa;AACb,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;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","file":"72.564351a364cd758d77c0.js","sourcesContent":["exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".map-root-2k8 {\\n    height: 300px;\\n}\\n.map-root-2k8 .gm-style .gm-style-iw-c {\\n    padding: 18px;\\n}\\n.map-root-2k8 .map-popup {\\n    min-width: 200px;\\n}\\n.map-root-2k8 .map-popup h3 {\\n    margin: 0 0 18px 0;\\n    font-weight: 300;\\n}\\n.map-root-2k8 .map-popup p {\\n    font-size: 16px;\\n}\\n.map-root-2k8 .map-popup p.map-comment {\\n    font-size: 14px;\\n}\\n.map-root-2k8 .gm-style img {\\n    max-width: none;\\n    max-height: none;\\n    margin: 0;\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"root\": \"map-root-2k8\"\n};","const API_URL = 'https://maps.googleapis.com/maps/api/js'\nconst CALLBACK_NAME = '__googleMapsApiOnLoadCallback'\n\nconst optionsKeys = ['channel', 'client', 'key', 'language', 'region', 'v']\n\nlet promise = null\n\nmodule.exports = function (options = {}) {\n  promise =\n    promise ||\n    new Promise(function (resolve, reject) {\n      // Reject the promise after a timeout\n      const timeoutId = setTimeout(function () {\n        window[CALLBACK_NAME] = function () {} // Set the on load callback to a no-op\n        reject(new Error('Could not load the Google Maps API'))\n      }, options.timeout || 10000)\n\n      // Hook up the on load callback\n      window[CALLBACK_NAME] = function () {\n        if (timeoutId !== null) {\n          clearTimeout(timeoutId)\n        }\n        resolve(window.google.maps)\n        delete window[CALLBACK_NAME]\n      }\n\n      // Prepare the `script` tag to be inserted into the page\n      const scriptElement = document.createElement('script')\n      const params = [`callback=${CALLBACK_NAME}`]\n      optionsKeys.forEach(function (key) {\n        if (options[key]) {\n          params.push(`${key}=${options[key]}`)\n        }\n      })\n      if (options.libraries && options.libraries.length) {\n        params.push(`libraries=${options.libraries.join(',')}`)\n      }\n      scriptElement.src = `${options.apiUrl || API_URL}?${params.join('&')}`\n\n      // Insert the `script` tag\n      document.body.appendChild(scriptElement)\n    })\n  return promise\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match HTML entities and HTML characters. */\nvar reUnescapedHtml = /[&<>\"'`]/g,\n    reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n/** Used to map characters to HTML entities. */\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '`': '&#96;'\n};\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Used by `_.escape` to convert characters to HTML entities.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nvar escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\" in `string` to\n * their corresponding HTML entities.\n *\n * **Note:** No other characters are escaped. To escape additional\n * characters use a third-party library like [_he_](https://mths.be/he).\n *\n * Though the \">\" character is escaped for symmetry, characters like\n * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n * unless they're part of a tag or unquoted attribute value. See\n * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n * (under \"semi-related fun fact\") for more details.\n *\n * Backticks are escaped because in IE < 9, they can break out of\n * attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n * [#133](https://html5sec.org/#133) of the\n * [HTML5 Security Cheatsheet](https://html5sec.org/) for more details.\n *\n * When working with HTML you should always\n * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n * XSS vectors.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escape('fred, barney, & pebbles');\n * // => 'fred, barney, &amp; pebbles'\n */\nfunction escape(string) {\n  string = toString(string);\n  return (string && reHasUnescapedHtml.test(string))\n    ? string.replace(reUnescapedHtml, escapeHtmlChar)\n    : string;\n}\n\nmodule.exports = escape;\n","import api from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!./map.css\";\n\nvar options = {\"injectType\":\"styleTag\"};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React, { useEffect, useRef } from 'react';\nimport { arrayOf, string, bool, number, object, shape } from 'prop-types';\nimport loadGoogleMapsApi from 'load-google-maps-api';\nimport defaultClasses from './map.css';\nimport escape from 'lodash.escape';\nimport { useStyle } from '@magento/venia-ui/lib/classify';\nimport { mapDefaultProps } from './configAggregator';\n\nconst getLocationFormattedAsHtml = location => {\n    const name = location.name ? `<h3>${escape(location.name)}</h3>` : '';\n    const comment = location.comment\n        ? `<p class=\"map-comment\">${escape(location.comment).replace(\n              /(?:\\r\\n|\\r|\\n)/g,\n              '<br>'\n          )}</p>`\n        : '';\n    const phone = location.phone ? `Phone: ${escape(location.phone)}<br>` : '';\n    const address = location.address ? `${escape(location.address)}<br>` : '';\n    const city = location.city ? escape(location.city) : '';\n    const country = location.country ? escape(location.country) : '';\n    const state = location.state ? escape(location.state) + ' ' : '';\n    const zipCode = location.zipcode ? escape(location.zipcode) : '';\n    const cityComma =\n        city.length && (state.length || zipCode.length) ? ', ' : '';\n    const lineBreak = city.length || zipCode.length ? '<br>' : '';\n\n    return `\n    <div class=\"map-popup\">\n        ${name}\n        ${comment}\n        <p><span>${phone}${address}${city}${cityComma}${state}${zipCode}${lineBreak}${country}</span></p>\n    </div>\n`;\n};\n\n/**\n * Page Builder Map component.\n *\n * This component is part of the Page Builder / PWA integration. It can be consumed without Page Builder.\n *\n * @typedef GoogleMap\n * @kind functional component\n *\n * @param {props} props React component props\n *\n * @returns {React.Element} A React component that displays a Map.\n */\nconst GoogleMap = props => {\n    const mapElement = useRef(null);\n    const classes = useStyle(defaultClasses, props.classes);\n\n    const {\n        apiKey,\n        locations,\n        height,\n        mapOptions,\n        textAlign,\n        border,\n        borderColor,\n        borderWidth,\n        borderRadius,\n        marginTop,\n        marginRight,\n        marginBottom,\n        marginLeft,\n        paddingTop,\n        paddingRight,\n        paddingBottom,\n        paddingLeft,\n        cssClasses = []\n    } = props;\n\n    const dynamicStyles = {\n        height,\n        textAlign,\n        border,\n        borderColor,\n        borderWidth,\n        borderRadius,\n        marginTop,\n        marginRight,\n        marginBottom,\n        marginLeft,\n        paddingTop,\n        paddingRight,\n        paddingBottom,\n        paddingLeft\n    };\n\n    useEffect(() => {\n        if (!locations.length) {\n            return;\n        }\n\n        let googleMapsEvent;\n        const mapOverlayInstances = [];\n\n        const apiOptions = {\n            key: apiKey,\n            v: '3'\n        };\n\n        loadGoogleMapsApi(apiOptions)\n            .then(googleMaps => {\n                googleMapsEvent = googleMaps.event;\n\n                const map = new googleMaps.Map(mapElement.current, mapOptions);\n                const positions = [];\n\n                let activeInfoWindow;\n\n                locations.forEach(location => {\n                    const position = new googleMaps.LatLng(\n                        location.position.latitude,\n                        location.position.longitude\n                    );\n                    positions.push(position);\n\n                    const marker = new googleMaps.Marker({\n                        map,\n                        position,\n                        title: location.name\n                    });\n\n                    const infoWindow = new googleMaps.InfoWindow({\n                        content: getLocationFormattedAsHtml(location),\n                        maxWidth: 350\n                    });\n\n                    marker.addListener('click', () => {\n                        // close other open info window if present\n                        if (activeInfoWindow) {\n                            activeInfoWindow.close();\n                        }\n\n                        infoWindow.open(map, marker);\n                        activeInfoWindow = infoWindow;\n                    });\n\n                    mapOverlayInstances.push(marker);\n                    mapOverlayInstances.push(infoWindow);\n                });\n\n                // set the bounds of the map to the perimeter of the furthest locations in either direction\n                if (positions.length > 1) {\n                    const latitudeLongitudeBounds = new googleMaps.LatLngBounds();\n\n                    positions.forEach(position => {\n                        latitudeLongitudeBounds.extend(position);\n                    });\n\n                    map.fitBounds(latitudeLongitudeBounds);\n                }\n\n                // zoom to default zoom if there is only a single location\n                if (positions.length === 1) {\n                    map.setCenter(positions[0]);\n                    map.setZoom(mapDefaultProps.mapOptions.zoom);\n                }\n            })\n            .catch(error => console.error(error));\n\n        return () => {\n            if (!googleMapsEvent) {\n                return;\n            }\n\n            mapOverlayInstances.forEach(mapOverlayInstance => {\n                googleMapsEvent.clearInstanceListeners(mapOverlayInstance);\n            });\n        };\n    }, [apiKey, locations, mapOptions]);\n\n    // If there are no locations configured, do not render the map\n    if (!locations.length) {\n        return null;\n    }\n\n    return (\n        <div\n            ref={mapElement}\n            style={dynamicStyles}\n            className={[classes.root, ...cssClasses].join(' ')}\n        />\n    );\n};\n\n/**\n * Props for {@link GoogleMap}\n *\n * @typedef props\n *\n * @property {Object} classes An object containing the class names for the Map\n * @property {String} classes.root CSS class for the root element\n * @property {String} apiKey API key for Maps API usage\n * @property {String} height CSS height property\n * @property {Object} mapOptions specific Google Maps API options for Map object instantiation\n * @property {Array} locations Locations on the map for Marker placement\n * @property {String} textAlign Alignment of content within the row\n * @property {String} border CSS border property\n * @property {String} borderColor CSS border color property\n * @property {String} borderWidth CSS border width property\n * @property {String} borderRadius CSS border radius property\n * @property {String} marginTop CSS margin top property\n * @property {String} marginRight CSS margin right property\n * @property {String} marginBottom CSS margin bottom property\n * @property {String} marginLeft CSS margin left property\n * @property {String} paddingTop CSS padding top property\n * @property {String} paddingRight CSS padding right property\n * @property {String} paddingBottom CSS padding bottom property\n * @property {String} paddingLeft CSS padding left property\n * @property {Array} cssClasses List of CSS classes to be applied to the component\n */\nGoogleMap.propTypes = {\n    classes: shape({\n        root: string\n    }),\n    apiKey: string,\n    height: string,\n    mapOptions: shape({\n        zoom: number,\n        center: shape({\n            lat: number,\n            lng: number\n        }),\n        scrollwheel: bool,\n        disableDoubleClickZoom: bool,\n        disableDefaultUI: bool,\n        mapTypeControl: bool,\n        mapTypeControlStyle: shape({\n            style: number\n        })\n    }),\n    locations: arrayOf(\n        shape({\n            position: shape({\n                latitude: number.isRequired,\n                longitude: number.isRequired\n            }),\n            name: string,\n            phone: string,\n            address: string,\n            city: string,\n            state: string,\n            zipcode: string,\n            country: string,\n            comment: string,\n            styles: arrayOf(\n                shape({\n                    featureType: string,\n                    elementType: string,\n                    stylers: arrayOf(object)\n                })\n            )\n        })\n    ).isRequired,\n    textAlign: string,\n    border: string,\n    borderColor: string,\n    borderWidth: string,\n    borderRadius: string,\n    marginTop: string,\n    marginRight: string,\n    marginBottom: string,\n    marginLeft: string,\n    paddingTop: string,\n    paddingRight: string,\n    paddingBottom: string,\n    cssClasses: arrayOf(string)\n};\n\nGoogleMap.defaultProps = mapDefaultProps;\n\nexport default GoogleMap;\n"],"sourceRoot":""}