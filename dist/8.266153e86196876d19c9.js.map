{"version":3,"sources":["webpack:///./node_modules/@magento/peregrine/lib/hooks/useCustomerWishlistSkus/customerWishlist.gql.ce.js","webpack:///./node_modules/@magento/peregrine/lib/hooks/useCustomerWishlistSkus/customerWishlist.gql.ee.js","webpack:///./node_modules/@magento/peregrine/lib/hooks/useCustomerWishlistSkus/useCustomerWishlistSkus.js","webpack:///./node_modules/@magento/peregrine/lib/talons/Gallery/gallery.gql.ce.js","webpack:///./node_modules/@magento/peregrine/lib/talons/Gallery/useGallery.js","webpack:///./node_modules/@magento/peregrine/lib/talons/Gallery/useGalleryItem.js","webpack:///./node_modules/@magento/peregrine/lib/talons/Wishlist/AddToListButton/addToListButton.gql.js","webpack:///./node_modules/@magento/venia-ui/lib/components/Gallery/gallery.css?9a69","webpack:///./node_modules/@magento/venia-ui/lib/components/Gallery/gallery.js","webpack:///./node_modules/@magento/venia-ui/lib/components/Gallery/item.css?608e","webpack:///./node_modules/@magento/venia-ui/lib/components/Gallery/item.js","webpack:///./node_modules/@magento/peregrine/lib/talons/Wishlist/AddToListButton/helpers/useSingleWishlist.js","webpack:///./node_modules/@magento/venia-ui/lib/components/Wishlist/AddToListButton/addToListButton.css?fa3d","webpack:///./node_modules/@magento/venia-ui/lib/components/Wishlist/AddToListButton/useCommonToasts.js","webpack:///./node_modules/@magento/venia-ui/lib/components/Wishlist/AddToListButton/addToListButton.ce.js","webpack:///./node_modules/@magento/venia-ui/lib/components/Gallery/gallery.css","webpack:///./node_modules/@magento/venia-ui/lib/components/Gallery/item.css","webpack:///./node_modules/@magento/venia-ui/lib/components/Wishlist/AddToListButton/addToListButton.css","webpack:///./node_modules/react-feather/dist/icons/heart.js"],"names":["GET_WISHLIST_ITEMS","gql","getProductsInWishlistsQuery","GET_PRODUCTS_IN_WISHLISTS","getWishlistItemsQuery","useCustomerWishlistSkus","props","operations","mergeOperations","defaultOperations","isSignedIn","useUserContext","currentPage","setCurrentPage","useState","client","data","customerWishlistProducts","useQuery","fetchPolicy","onCompleted","itemsToAdd","Set","wishlists","customer","shouldFetchMore","map","wishlist","items","items_v2","item","sku","product","includes","add","pageInfo","page_info","total_pages","current_page","size","writeQuery","query","current","skip","variables","GET_WISHLIST_CONFIG","getWishlistConfigQuery","useGallery","wishlistConfigData","storeConfig","useGalleryItem","wishlistButtonProps","magento_wishlist_general_is_enabled","quantity","ADD_TO_WISHLIST","addProductToWishlistMutation","Gallery","classes","useStyle","defaultClasses","talonProps","galleryItems","useMemo","index","id","root","propTypes","shape","filters","string","pagination","array","isRequired","IMAGE_WIDTH","IMAGE_HEIGHT","IMAGE_WIDTHS","Map","set","UNCONSTRAINED_SIZE_KEY","ItemPlaceholder","root_pending","images_pending","image","image_pending","imageContainer","transparentPlaceholder","name_pending","price_pending","GalleryItem","handleLinkClick","name","price","small_image","url_key","url_suffix","url","smallImageURL","productLink","resourceUrl","wishlistButton","images","regularPrice","amount","value","currency","actionsContainer","imagePlaceholder","number","useSingleWishlist","afterAdd","beforeAdd","addProductToWishlist","addProductData","error","errorAddingProduct","loading","isAddingToWishlist","useMutation","isSelected","showLoginToast","setShowLoginToast","formatMessage","useIntl","handleClick","useCallback","wishlistId","itemOptions","console","loginToastProps","type","message","defaultMessage","timeout","successToastProps","errorToastProps","buttonProps","disabled","onClick","buttonText","CheckIcon","Check","ErrorIcon","AlertCircle","InfoIcon","Info","useCommonToasts","addToast","useToasts","useEffect","icon","HeartIcon","Heart","AddToListButton","useAddToListButton","buttonClass","root_selected","defaultProps","func","element","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","forwardRef","_ref","ref","_ref$color","color","_ref$size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","PropTypes","oneOfType","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEO,MAAMA,kBAAkB,GAAGC,qBAAI;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAtBO;AAwBQ;AACXC,6BAA2B,EAAEC,wDADlB;AAEXC,uBAAqB,EAAEJ;AAFZ,CAAf,E;;AC5BA;AACA;AAEe;AACXE,6BAA2B,EAAEC,wDADlB;AAEXC,uBAAqB,EAAEJ,kBAAkBA;AAF9B,CAAf,E;;;;ACHA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACO,MAAMK,uBAAuB,GAAG,CAACC,KAAK,GAAG,EAAT,KAAgB;AAAA;;AACnD,QAAMC,UAAU,GAAGC,uCAAe,CAACC,uBAAD,EAAoBH,KAAK,CAACC,UAA1B,CAAlC;AACA,QAAM,CAAC;AAAEG;AAAF,GAAD,IAAmBC,sCAAc,EAAvC;AAEA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCC,yBAAQ,CAAC,CAAD,CAA9C;AAEA,QAAM;AACFC,UADE;AAEFC,QAAI,EAAE;AAAEC;AAAF;AAFJ,MAGFC,kCAAQ,CAACX,UAAU,CAACL,2BAAZ,CAHZ;AAKAgB,oCAAQ,CAACX,UAAU,CAACH,qBAAZ,EAAmC;AACvCe,eAAW,EAAE,mBAD0B;AAEvCC,eAAW,EAAEJ,IAAI,IAAI;AACjB,YAAMK,UAAU,GAAG,IAAIC,GAAJ,EAAnB;AACA,YAAMC,SAAS,GAAGP,IAAI,CAACQ,QAAL,CAAcD,SAAhC;AACA,UAAIE,eAAe,GAAG,KAAtB;AACAF,eAAS,CAACG,GAAV,CAAcC,QAAQ,IAAI;AACtB,cAAMC,KAAK,GAAGD,QAAQ,CAACE,QAAT,CAAkBD,KAAhC;AACAA,aAAK,CAACF,GAAN,CAAUI,IAAI,IAAI;AACd,gBAAMC,GAAG,GAAGD,IAAI,CAACE,OAAL,CAAaD,GAAzB;;AACA,cAAI,CAACd,wBAAwB,CAACgB,QAAzB,CAAkCF,GAAlC,CAAL,EAA6C;AACzCV,sBAAU,CAACa,GAAX,CAAeH,GAAf;AACH;AACJ,SALD;AAOA,cAAMI,QAAQ,GAAGR,QAAQ,CAACE,QAAT,CAAkBO,SAAnC;;AAEA,YAAID,QAAQ,CAACE,WAAT,GAAuBF,QAAQ,CAACG,YAApC,EAAkD;AAC9Cb,yBAAe,GAAG,IAAlB;AACH;AACJ,OAdD;;AAgBA,UAAIJ,UAAU,CAACkB,IAAf,EAAqB;AACjBxB,cAAM,CAACyB,UAAP,CAAkB;AACdC,eAAK,EAAElC,UAAU,CAACL,2BADJ;AAEdc,cAAI,EAAE;AACFC,oCAAwB,EAAE,CACtB,GAAGA,wBADmB,EAEtB,GAAGI,UAFmB;AADxB;AAFQ,SAAlB;AASH;;AAED,UAAII,eAAJ,EAAqB;AACjBZ,sBAAc,CAAC6B,OAAO,IAAI,EAAEA,OAAd,CAAd;AACH;AACJ,KArCsC;AAsCvCC,QAAI,EAAE,CAACjC,UAtCgC;AAuCvCkC,aAAS,EAAE;AACPhC;AADO;AAvC4B,GAAnC,CAAR;AA2CH,CAtDM;;GAAMP,uB;UAEgBM,8B,EAOrBO,0B,EAEJA,0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBJ;AAEO,MAAM2B,mBAAmB,GAAG5C,aAAI;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,CAPO;AASQ;AACX6C,wBAAsB,EAAED;AADb,CAAf,E;;;;ACXA;AAEA;AAEA;AACA;AAEO,MAAME,UAAU,GAAG,CAACzC,KAAK,GAAG,EAAT,KAAgB;AAAA;;AACtC,QAAMC,UAAU,GAAGC,uCAAe,CAACC,cAAD,EAAoBH,KAAK,CAACC,UAA1B,CAAlC;AAEAF,oEAAuB;AAEvB,QAAM;AAAEW,QAAI,EAAEgC;AAAR,MAA+B9B,0BAAQ,CACzCX,UAAU,CAACuC,sBAD8B,EAEzC;AAAE3B,eAAW,EAAE;AAAf,GAFyC,CAA7C;AAKA,QAAM8B,WAAW,GAAGD,kBAAkB,GAChCA,kBAAkB,CAACC,WADa,GAEhC,IAFN;AAIA,SAAO;AACHA;AADG,GAAP;AAGH,CAjBM;;GAAMF,U;UAGT1C,0D,EAEqCa,kB;;;;;;;;;;;;;;;;;;;ACZlC,MAAMgC,cAAc,GAAG,CAAC5C,KAAK,GAAG,EAAT,KAAgB;AAC1C,QAAM;AAAEwB,QAAF;AAAQmB;AAAR,MAAwB3C,KAA9B;AAEA,QAAM6C,mBAAmB,GACrBF,WAAW,IAAIA,WAAW,CAACG,mCAAZ,KAAoD,GAAnE,GACM;AACItB,QAAI,EAAE;AACFC,SAAG,EAAED,IAAI,CAACC,GADR;AAEFsB,cAAQ,EAAE;AAFR,KADV;AAKIJ;AALJ,GADN,GAQM,IATV;AAWA,2BAAY3C,KAAZ;AAAmB6C;AAAnB;AACH,CAfM,C;;;;;;;;;;;;;ACAP;AAAA;AAAA;AAAA;AAEO,MAAMG,eAAe,GAAGrD,kDAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAfO;AAiBA,MAAME,yBAAyB,GAAGF,kDAAI;AAC7C;AACA;AACA;AACA,CAJO;AAMQ;AACXsD,8BAA4B,EAAED,eADnB;AAEXpD,6BAA2B,EAAEC;AAFlB,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBwF;AACxF,YAA0G;;AAE1G,eAAe;;AAEf;AACA;;AAEA,aAAa,kCAAG,CAAC,iBAAO;;;;AAIT,qEAAO,aAAa,E;;;;;;;ACZnC;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMqD,OAAO,GAAGlD,KAAK,IAAI;AAAA;;AACrB,QAAM;AAAEsB;AAAF,MAAYtB,KAAlB;AACA,QAAMmD,OAAO,GAAGC,uCAAQ,CAACC,eAAD,EAAiBrD,KAAK,CAACmD,OAAvB,CAAxB;AACA,QAAMG,UAAU,GAAGb,wCAAU,EAA7B;AACA,QAAM;AAAEE;AAAF,MAAkBW,UAAxB;AAEA,QAAMC,YAAY,GAAGC,wBAAO,CACxB,MACIlC,KAAK,CAACF,GAAN,CAAU,CAACI,IAAD,EAAOiC,KAAP,KAAiB;AACvB,QAAIjC,IAAI,KAAK,IAAb,EAAmB;AACf,aAAO,8BAAC,+BAAD;AAAa,WAAG,EAAEiC;AAAlB,QAAP;AACH;;AACD,WACI,8BAAC,+BAAD;AACI,SAAG,EAAEjC,IAAI,CAACkC,EADd;AAEI,UAAI,EAAElC,IAFV;AAGI,iBAAW,EAAEmB;AAHjB,MADJ;AAOH,GAXD,CAFoB,EAcxB,CAACrB,KAAD,EAAQqB,WAAR,CAdwB,CAA5B;AAiBA,SACI;AAAK,aAAS,EAAEQ,OAAO,CAACQ;AAAxB,KACI;AAAK,aAAS,EAAER,OAAO,CAAC7B;AAAxB,KAAgCiC,YAAhC,CADJ,CADJ;AAKH,CA5BD;;GAAML,O;UAEcE,+B,EACGX,gC;;;KAHjBS,O;AA8BNA,OAAO,CAACU,SAAR,GAAoB;AAChBT,SAAO,EAAEU,2BAAK,CAAC;AACXC,WAAO,EAAEC,oBADE;AAEXzC,SAAK,EAAEyC,oBAFI;AAGXC,cAAU,EAAED,oBAHD;AAIXJ,QAAI,EAAEI,oBAAMA;AAJD,GAAD,CADE;AAOhBzC,OAAK,EAAE2C,mBAAK,CAACC;AAPG,CAApB;AAUehB,iGAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtDwF;AACxF,YAAuG;;AAEvG,eAAe;;AAEf;AACA;;AAEA,aAAa,kCAAG,CAAC,cAAO;;;;AAIT,0EAAO,aAAa,E;;;;;;;ACZnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;CAGA;AACA;;AACA,MAAMiB,WAAW,GAAG,GAApB;AACA,MAAMC,YAAY,GAAG,GAArB,C,CAEA;;AACA,MAAMC,YAAY,GAAG,IAAIC,GAAJ,GAChBC,GADgB,CACZ,GADY,EACPJ,WADO,EAEhBI,GAFgB,CAEZC,0CAFY,EAEY,GAFZ,CAArB;KAAMH,Y;;AAIN,MAAMI,eAAe,GAAG,CAAC;AAAEtB;AAAF,CAAD,KACpB;AAAK,WAAS,EAAEA,OAAO,CAACuB;AAAxB,GACI;AAAK,WAAS,EAAEvB,OAAO,CAACwB;AAAxB,GACI,8BAAC,8BAAD;AACI,KAAG,EAAC,oCADR;AAEI,SAAO,EAAE;AACLC,SAAK,EAAEzB,OAAO,CAAC0B,aADV;AAELlB,QAAI,EAAER,OAAO,CAAC2B;AAFT,GAFb;AAMI,KAAG,EAAEC,6CAAsBA;AAN/B,EADJ,CADJ,EAWI;AAAK,WAAS,EAAE5B,OAAO,CAAC6B;AAAxB,EAXJ,EAYI;AAAK,WAAS,EAAE7B,OAAO,CAAC8B;AAAxB,EAZJ,CADJ;;MAAMR,e;;AAiBN,MAAMS,WAAW,GAAGlF,KAAK,IAAI;AAAA;;AACzB,QAAM;AAAEmF,mBAAF;AAAmB3D,QAAnB;AAAyBqB;AAAzB,MAAiDD,gDAAc,CACjE5C,KADiE,CAArE;AAIA,QAAMmD,OAAO,GAAGC,uCAAQ,CAACC,uBAAD,EAAiBrD,KAAK,CAACmD,OAAvB,CAAxB;;AAEA,MAAI,CAAC3B,IAAL,EAAW;AACP,WAAO,8BAAC,eAAD;AAAiB,aAAO,EAAE2B;AAA1B,MAAP;AACH;;AAED,QAAM;AAAEiC,QAAF;AAAQC,SAAR;AAAeC,eAAf;AAA4BC,WAA5B;AAAqCC;AAArC,MAAoDhE,IAA1D;AACA,QAAM;AAAEiE,OAAG,EAAEC;AAAP,MAAyBJ,WAA/B;AACA,QAAMK,WAAW,GAAGC,kCAAW,CAAE,IAAGL,OAAQ,GAAEC,UAAU,IAAI,EAAG,EAAhC,CAA/B;AAEA,QAAMK,cAAc,GAAGhD,mBAAmB,GACtC,8BAAC,qCAAD,EAA2BA,mBAA3B,CADsC,GAEtC,IAFJ;AAIA,SACI;AAAK,aAAS,EAAEM,OAAO,CAACQ;AAAxB,KACI,8BAAC,gCAAD;AACI,WAAO,EAAEwB,eADb;AAEI,MAAE,EAAEQ,WAFR;AAGI,aAAS,EAAExC,OAAO,CAAC2C;AAHvB,KAKI,8BAAC,8BAAD;AACI,OAAG,EAAEV,IADT;AAEI,WAAO,EAAE;AACLR,WAAK,EAAEzB,OAAO,CAACyB,KADV;AAELjB,UAAI,EAAER,OAAO,CAAC2B;AAFT,KAFb;AAMI,UAAM,EAAEV,YANZ;AAOI,YAAQ,EAAEsB,aAPd;AAQI,UAAM,EAAErB;AARZ,IALJ,CADJ,EAiBI,8BAAC,gCAAD;AACI,WAAO,EAAEc,eADb;AAEI,MAAE,EAAEQ,WAFR;AAGI,aAAS,EAAExC,OAAO,CAACiC;AAHvB,KAKI,4CAAOA,IAAP,CALJ,CAjBJ,EAwBI;AAAK,aAAS,EAAEjC,OAAO,CAACkC;AAAxB,KACI,8BAAC,8BAAD;AACI,SAAK,EAAEA,KAAK,CAACU,YAAN,CAAmBC,MAAnB,CAA0BC,KADrC;AAEI,gBAAY,EAAEZ,KAAK,CAACU,YAAN,CAAmBC,MAAnB,CAA0BE;AAF5C,IADJ,CAxBJ,EA8BI;AAAK,aAAS,EAAE/C,OAAO,CAACgD;AAAxB,KAA2CN,cAA3C,CA9BJ,CADJ;AAkCH,CArDD;;GAAMX,W;UACqDtC,wC,EAIvCQ,+B;;;MALd8B,W;AAuDNA,WAAW,CAACtB,SAAZ,GAAwB;AACpBT,SAAO,EAAEU,2BAAK,CAAC;AACXe,SAAK,EAAEb,oBADI;AAEXe,kBAAc,EAAEf,oBAFL;AAGXqC,oBAAgB,EAAErC,oBAHP;AAIXc,iBAAa,EAAEd,oBAJJ;AAKX+B,UAAM,EAAE/B,oBALG;AAMXY,kBAAc,EAAEZ,oBANL;AAOXqB,QAAI,EAAErB,oBAPK;AAQXiB,gBAAY,EAAEjB,oBARH;AASXsB,SAAK,EAAEtB,oBATI;AAUXkB,iBAAa,EAAElB,oBAVJ;AAWXJ,QAAI,EAAEI,oBAXK;AAYXW,gBAAY,EAAEX,oBAAMA;AAZT,GAAD,CADM;AAepBvC,MAAI,EAAEqC,2BAAK,CAAC;AACRH,MAAE,EAAE2C,oBAAM,CAACnC,UADH;AAERkB,QAAI,EAAErB,oBAAM,CAACG,UAFL;AAGRoB,eAAW,EAAEzB,2BAAK,CAAC;AACf4B,SAAG,EAAE1B,oBAAM,CAACG;AADG,KAAD,CAHV;AAMRqB,WAAO,EAAExB,oBAAM,CAACG,UANR;AAORmB,SAAK,EAAExB,2BAAK,CAAC;AACTkC,kBAAY,EAAElC,2BAAK,CAAC;AAChBmC,cAAM,EAAEnC,2BAAK,CAAC;AACVoC,eAAK,EAAEI,oBAAM,CAACnC,UADJ;AAEVgC,kBAAQ,EAAEnC,oBAAM,CAACG;AAFP,SAAD,CAAL,CAGLA;AAJa,OAAD,CAAL,CAKXA;AANM,KAAD,CAAL,CAOJA;AAdK,GAAD,CAfS;AA+BpBvB,aAAW,EAAEkB,2BAAK,CAAC;AACff,uCAAmC,EAAEiB,oBAAM,CAACG;AAD7B,GAAD;AA/BE,CAAxB;AAoCegB,sGAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpIA;AACA;AACA;AAEA;AACA;AAEA;AAEO,MAAMoB,iBAAiB,GAAGtG,KAAK,IAAI;AAAA;;AACtC,QAAM;AAAEuG,YAAF;AAAYC,aAAZ;AAAuBhF;AAAvB,MAAgCxB,KAAtC;AAEA,QAAMC,UAAU,GAAGC,uCAAe,CAACC,sCAAD,EAAoBH,KAAK,CAACC,UAA1B,CAAlC;AAEA,QAAM,CACFwG,oBADE,EAEF;AACI/F,QAAI,EAAEgG,cADV;AAEIC,SAAK,EAAEC,kBAFX;AAGIC,WAAO,EAAEC;AAHb,GAFE,IAOFC,qCAAW,CAAC9G,UAAU,CAACgD,4BAAZ,CAPf;AASA,QAAM;AACFxC,UADE;AAEFC,QAAI,EAAE;AAAEC;AAAF;AAFJ,MAGFC,kCAAQ,CAACX,UAAU,CAACL,2BAAZ,CAHZ;AAKA,QAAMoH,UAAU,GAAGxD,wBAAO,CAAC,MAAM;AAC7B,WACI7C,wBAAwB,CAACgB,QAAzB,CAAkCH,IAAI,CAACC,GAAvC,KAA+CqF,kBADnD;AAGH,GAJyB,EAIvB,CAACnG,wBAAD,EAA2BmG,kBAA3B,EAA+CtF,IAAI,CAACC,GAApD,CAJuB,CAA1B;AAMA,QAAM,CAACwF,cAAD,EAAiBC,iBAAjB,IAAsC1G,yBAAQ,CAAC,CAAD,CAApD;AAEA,QAAM;AAAE2G;AAAF,MAAoBC,kCAAO,EAAjC;AACA,QAAM,CAAC;AAAEhH;AAAF,GAAD,IAAmBC,sCAAc,EAAvC;AAEA,QAAMgH,WAAW,GAAGC,4BAAW,CAAC,YAAY;AACxC,QAAI,CAAClH,UAAL,EAAiB;AACb8G,uBAAiB,CAAC9E,OAAO,IAAI,EAAEA,OAAd,CAAjB;AACH,KAFD,MAEO;AACH,UAAI;AACA,YAAIoE,SAAJ,EAAe;AACX,gBAAMA,SAAS,EAAf;AACH;;AAED,cAAMC,oBAAoB,CAAC;AACvBnE,mBAAS,EAAE;AAAEiF,sBAAU,EAAE,GAAd;AAAmBC,uBAAW,EAAEhG;AAAhC;AADY,SAAD,CAA1B;AAIAf,cAAM,CAACyB,UAAP,CAAkB;AACdC,eAAK,EAAElC,UAAU,CAACL,2BADJ;AAEdc,cAAI,EAAE;AACFC,oCAAwB,EAAE,CACtB,GAAGA,wBADmB,EAEtBa,IAAI,CAACC,GAFiB;AADxB;AAFQ,SAAlB;;AAUA,YAAI8E,QAAJ,EAAc;AACVA,kBAAQ;AACX;AACJ,OAtBD,CAsBE,OAAOI,KAAP,EAAc;AACZc,eAAO,CAACd,KAAR,CAAcA,KAAd;AACH;AACJ;AACJ,GA9B8B,EA8B5B,CACCF,oBADD,EAECF,QAFD,EAGCC,SAHD,EAIC/F,MAJD,EAKCE,wBALD,EAMCP,UAND,EAOCoB,IAPD,EAQCvB,UAAU,CAACL,2BARZ,CA9B4B,CAA/B;AAyCA,QAAM8H,eAAe,GAAGlE,wBAAO,CAAC,MAAM;AAClC,QAAIyD,cAAJ,EAAoB;AAChB,aAAO;AACHU,YAAI,EAAE,MADH;AAEHC,eAAO,EAAET,aAAa,CAAC;AACnBzD,YAAE,EAAE,qCADe;AAEnBmE,wBAAc,EACV;AAHe,SAAD,CAFnB;AAOHC,eAAO,EAAE;AAPN,OAAP;AASH;;AAED,WAAO,IAAP;AACH,GAd8B,EAc5B,CAACX,aAAD,EAAgBF,cAAhB,CAd4B,CAA/B;AAgBA,QAAMc,iBAAiB,GAAGvE,wBAAO,CAAC,MAAM;AACpC,QAAIkD,cAAJ,EAAoB;AAChB,aAAO;AACHiB,YAAI,EAAE,SADH;AAEHC,eAAO,EAAET,aAAa,CAAC;AACnBzD,YAAE,EAAE,8CADe;AAEnBmE,wBAAc,EACV;AAHe,SAAD,CAFnB;AAOHC,eAAO,EAAE;AAPN,OAAP;AASH;;AAED,WAAO,IAAP;AACH,GAdgC,EAc9B,CAACpB,cAAD,EAAiBS,aAAjB,CAd8B,CAAjC;AAgBA,QAAMa,eAAe,GAAGxE,wBAAO,CAAC,MAAM;AAClC,QAAIoD,kBAAJ,EAAwB;AACpB,aAAO;AACHe,YAAI,EAAE,OADH;AAEHC,eAAO,EAAET,aAAa,CAAC;AACnBzD,YAAE,EAAE,iCADe;AAEnBmE,wBAAc,EACV;AAHe,SAAD,CAFnB;AAOHC,eAAO,EAAE;AAPN,OAAP;AASH;;AAED,WAAO,IAAP;AACH,GAd8B,EAc5B,CAAClB,kBAAD,EAAqBO,aAArB,CAd4B,CAA/B;AAgBA,QAAMc,WAAW,GAAGzE,wBAAO,CACvB,OAAO;AACH,kBAAc2D,aAAa,CAAC;AACxBzD,QAAE,EAAE,wBADoB;AAExBmE,oBAAc,EAAE;AAFQ,KAAD,CADxB;AAKHK,YAAQ,EAAElB,UALP;AAMHmB,WAAO,EAAEd,WANN;AAOHM,QAAI,EAAE;AAPH,GAAP,CADuB,EAUvB,CAACR,aAAD,EAAgBE,WAAhB,EAA6BL,UAA7B,CAVuB,CAA3B;AAaA,SAAO;AACHiB,eADG;AAEHG,cAAU,EAAEpI,KAAK,CAACoI,UAAN,IAAoBpI,KAAK,CAACoI,UAAN,CAAiBpB,UAAjB,CAF7B;AAGHrG,4BAHG;AAIHqH,mBAJG;AAKHX,eALG;AAMHL,cANG;AAOHU,mBAPG;AAQHK;AARG,GAAP;AAUH,CA9IM;;GAAMzB,iB;UAYLS,6B,EAKAnG,0B,EAUsBwG,0B,EACD/G,8B;;;;;;;;;;;;;;ACrC8D;AAC3F,YAAqH;;AAErH,eAAe;;AAEf;AACA;;AAEA,aAAa,kCAAG,CAAC,yBAAO;;;;AAIT,6FAAO,aAAa,E;;;;;;;;;;;;;;;;;;;;ACZnC;AACA;AACA;AAEA;AAEA,MAAMgI,SAAS,GAAG,8BAAC,uBAAD;AAAM,MAAI,EAAE,EAAZ;AAAgB,KAAG,EAAEC,wBAAKA;AAA1B,EAAlB;AACA,MAAMC,SAAS,GAAG,8BAAC,uBAAD;AAAM,MAAI,EAAE,EAAZ;AAAgB,KAAG,EAAEC,+BAAWA;AAAhC,EAAlB;AACA,MAAMC,QAAQ,GAAG,8BAAC,uBAAD;AAAM,MAAI,EAAE,EAAZ;AAAgB,KAAG,EAAEC,uBAAIA;AAAzB,EAAjB;AAEO,MAAMC,eAAe,GAAG3I,KAAK,IAAI;AAAA;;AACpC,QAAM;AAAEgI,mBAAF;AAAmBN,mBAAnB;AAAoCK;AAApC,MAA0D/H,KAAhE;AAEA,QAAM,GAAG;AAAE4I;AAAF,GAAH,IAAmBC,sCAAS,EAAlC;AAEAC,4BAAS,CAAC,MAAM;AACZ,QAAIpB,eAAJ,EAAqB;AACjBkB,cAAQ,mBAAMlB,eAAN;AAAuBqB,YAAI,EAAEN;AAA7B,SAAR;AACH;AACJ,GAJQ,EAIN,CAACG,QAAD,EAAWlB,eAAX,CAJM,CAAT;AAMAoB,4BAAS,CAAC,MAAM;AACZ,QAAIf,iBAAJ,EAAuB;AACnBa,cAAQ,mBAAMb,iBAAN;AAAyBgB,YAAI,EAAEV;AAA/B,SAAR;AACH;AACJ,GAJQ,EAIN,CAACO,QAAD,EAAWb,iBAAX,CAJM,CAAT;AAMAe,4BAAS,CAAC,MAAM;AACZ,QAAId,eAAJ,EAAqB;AACjBY,cAAQ,mBAAMZ,eAAN;AAAuBe,YAAI,EAAER;AAA7B,SAAR;AACH;AACJ,GAJQ,EAIN,CAACK,QAAD,EAAWZ,eAAX,CAJM,CAAT;AAKH,CAtBM;;kBAAMW,e;UAGgBE,8B;;;;;;;ACb7B;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,MAAMG,SAAS,GAAG,8BAAC,uBAAD;AAAM,MAAI,EAAE,EAAZ;AAAgB,KAAG,EAAEC,wBAAKA;AAA1B,EAAlB;;AAEA,MAAMC,eAAe,GAAGlJ,KAAK,IAAI;AAAA;;AAC7B,QAAMsD,UAAU,GAAG6F,iBAAkB,CAACnJ,KAAD,CAArC;AACA,QAAM;AACFiI,eADE;AAEFG,cAFE;AAGFJ,mBAHE;AAIFhB,cAJE;AAKFU,mBALE;AAMFK;AANE,MAOFzE,UAPJ;AASAqF,iBAAe,CAAC;AAAEX,mBAAF;AAAmBN,mBAAnB;AAAoCK;AAApC,GAAD,CAAf;AAEA,QAAM5E,OAAO,GAAGC,uCAAQ,CAACC,+BAAD,EAAiBrD,KAAK,CAACmD,OAAvB,CAAxB;AACA,QAAMiG,WAAW,GAAGpC,UAAU,GAAG7D,OAAO,CAACkG,aAAX,GAA2BlG,OAAO,CAACQ,IAAjE;AAEA,SACI;AAAQ,aAAS,EAAEyF;AAAnB,KAAoCnB,WAApC,GACKjI,KAAK,CAAC+I,IADX,OACkBX,UADlB,CADJ;AAKH,CArBD;;qBAAMc,e;UACiBC,iB,EAUnBR,e,EAEgBvF,+B;;;KAbd8F,e;AAuBSA,iGAAf;AAEAA,eAAe,CAACI,YAAhB,GAA+B;AAC3BP,MAAI,EAAEC;AADqB,CAA/B;AAIAE,eAAe,CAACtF,SAAhB,GAA4B;AACxB2C,UAAQ,EAAEgD,kBADc;AAExB/C,WAAS,EAAE+C,kBAFa;AAGxBpG,SAAO,EAAEU,2BAAK,CAAC;AACXF,QAAI,EAAEI,oBADK;AAEXsF,iBAAa,EAAEtF,oBAAMA;AAFV,GAAD,CAHU;AAOxBgF,MAAI,EAAES,qBAAOA;AAPW,CAA5B;;;;;;;;;;;;;;;;;ACzCA,2BAA2B,mBAAO,CAAC,oGAA+C;AAClF;AACA,cAAc,QAAS,sBAAsB,oBAAoB,+DAA+D,iCAAiC,qBAAqB,GAAG,wBAAwB,oBAAoB,uBAAuB,qBAAqB,4CAA4C,0BAA0B,GAAG,+BAA+B,0BAA0B,gDAAgD,OAAO,GAAG;;AAE7c;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;;ACRA,2BAA2B,mBAAO,CAAC,oGAA+C;AAClF;AACA,cAAc,QAAS,mBAAmB,2BAA2B,oBAAoB,sBAAsB,GAAG,sBAAsB,oBAAoB,kCAAkC,GAAG,8BAA8B,sBAAsB,GAAG,qBAAqB,qBAAqB,mBAAmB,0BAA0B,iBAAiB,iCAAiC,+CAA+C,2CAA2C,0BAA0B,kBAAkB,GAAG,gCAAgC,4DAA4D,GAAG,gCAAgC,yBAAyB,oBAAoB,qCAAqC,GAAG,sCAAsC,oBAAoB,GAAG,oBAAoB,2DAA2D,GAAG,sCAAsC,4DAA4D,uBAAuB,GAAG,oDAAoD,GAAG,6BAA6B,4DAA4D,GAAG,8BAA8B,GAAG,4BAA4B,4DAA4D,GAAG,6BAA6B,4DAA4D,kBAAkB,GAAG;;AAEt2C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;;ACnBA,2BAA2B,mBAAO,CAAC,uGAAkD;AACrF;AACA,cAAc,QAAS,8BAA8B,4BAA4B,yBAAyB,2BAA2B,2BAA2B,wBAAwB,iCAAiC,GAAG,wCAAwC,8DAA8D,mCAAmC,qCAAqC,8BAA8B,GAAG;;AAE3a;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA,SAASC,QAAT,GAAoB;AAAEA,UAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,WAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,YAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,gBAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,WAAOL,MAAP;AAAgB,GAA5P;;AAA8P,SAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,SAASQ,wBAAT,CAAkCN,MAAlC,EAA0CO,QAA1C,EAAoD;AAAE,MAAIP,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;;AAAW,MAAIJ,MAAM,GAAGY,6BAA6B,CAACR,MAAD,EAASO,QAAT,CAA1C;;AAA8D,MAAIN,GAAJ,EAASJ,CAAT;;AAAY,MAAIH,MAAM,CAACe,qBAAX,EAAkC;AAAE,QAAIC,gBAAgB,GAAGhB,MAAM,CAACe,qBAAP,CAA6BT,MAA7B,CAAvB;;AAA6D,SAAKH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGa,gBAAgB,CAACX,MAAjC,EAAyCF,CAAC,EAA1C,EAA8C;AAAEI,SAAG,GAAGS,gBAAgB,CAACb,CAAD,CAAtB;AAA2B,UAAIU,QAAQ,CAACI,OAAT,CAAiBV,GAAjB,KAAyB,CAA7B,EAAgC;AAAU,UAAI,CAACP,MAAM,CAACQ,SAAP,CAAiBU,oBAAjB,CAAsCR,IAAtC,CAA2CJ,MAA3C,EAAmDC,GAAnD,CAAL,EAA8D;AAAUL,YAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;;AAAC,SAAOL,MAAP;AAAgB;;AAE5e,SAASY,6BAAT,CAAuCR,MAAvC,EAA+CO,QAA/C,EAAyD;AAAE,MAAIP,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIJ,MAAM,GAAG,EAAb;AAAiB,MAAIiB,UAAU,GAAGnB,MAAM,CAACoB,IAAP,CAAYd,MAAZ,CAAjB;AAAsC,MAAIC,GAAJ,EAASJ,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGgB,UAAU,CAACd,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;AAAEI,OAAG,GAAGY,UAAU,CAAChB,CAAD,CAAhB;AAAqB,QAAIU,QAAQ,CAACI,OAAT,CAAiBV,GAAjB,KAAyB,CAA7B,EAAgC;AAAUL,UAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;;AAAC,SAAOL,MAAP;AAAgB;;AAEnT;AACA;AACA,IAAIX,KAAK,GAAG8B,wDAAU,MAAC,UAAUC,IAAV,EAAgBC,GAAhB,EAAqB;AAC1C,MAAIC,UAAU,GAAGF,IAAI,CAACG,KAAtB;AAAA,MACIA,KAAK,GAAGD,UAAU,KAAK,KAAK,CAApB,GAAwB,cAAxB,GAAyCA,UADrD;AAAA,MAEIE,SAAS,GAAGJ,IAAI,CAAC/I,IAFrB;AAAA,MAGIA,IAAI,GAAGmJ,SAAS,KAAK,KAAK,CAAnB,GAAuB,EAAvB,GAA4BA,SAHvC;AAAA,MAIIC,IAAI,GAAGf,wBAAwB,CAACU,IAAD,EAAO,CAAC,OAAD,EAAU,MAAV,CAAP,CAJnC;;AAMA,SAAO,aAAaM,4CAAK,CAACC,aAAN,CAAoB,KAApB,EAA2B9B,QAAQ,CAAC;AACtDwB,OAAG,EAAEA,GADiD;AAEtDO,SAAK,EAAE,4BAF+C;AAGtDC,SAAK,EAAExJ,IAH+C;AAItDyJ,UAAM,EAAEzJ,IAJ8C;AAKtD0J,WAAO,EAAE,WAL6C;AAMtDC,QAAI,EAAE,MANgD;AAOtDC,UAAM,EAAEV,KAP8C;AAQtDW,eAAW,EAAE,GARyC;AAStDC,iBAAa,EAAE,OATuC;AAUtDC,kBAAc,EAAE;AAVsC,GAAD,EAWpDX,IAXoD,CAAnC,EAWV,aAAaC,4CAAK,CAACC,aAAN,CAAoB,MAApB,EAA4B;AACjDU,KAAC,EAAE;AAD8C,GAA5B,CAXH,CAApB;AAcD,CArBqB,CAAtB;MAAIhD,K;AAsBJA,KAAK,CAACrF,SAAN,GAAkB;AAChBuH,OAAK,EAAEe,iDAAS,CAACnI,MADD;AAEhB9B,MAAI,EAAEiK,iDAAS,CAACC,SAAV,CAAoB,CAACD,iDAAS,CAACnI,MAAX,EAAmBmI,iDAAS,CAAC7F,MAA7B,CAApB;AAFU,CAAlB;AAIA4C,KAAK,CAACmD,WAAN,GAAoB,OAApB;AACenD,8DAAf","file":"8.266153e86196876d19c9.js","sourcesContent":["import { gql } from '@apollo/client';\n\nimport { GET_PRODUCTS_IN_WISHLISTS } from '@magento/peregrine/lib/talons/Wishlist/AddToListButton/addToListButton.gql';\n\nexport const GET_WISHLIST_ITEMS = gql`\n    query GetWishlistItemsForLocalField($currentPage: Int!) {\n        customer {\n            id\n            wishlists {\n                id\n                items_v2(currentPage: $currentPage, pageSize: 10) {\n                    items {\n                        id\n                        product {\n                            id\n                            sku\n                        }\n                    }\n                    page_info {\n                        current_page\n                        total_pages\n                    }\n                }\n            }\n        }\n    }\n`;\n\nexport default {\n    getProductsInWishlistsQuery: GET_PRODUCTS_IN_WISHLISTS,\n    getWishlistItemsQuery: GET_WISHLIST_ITEMS\n};\n","import { GET_PRODUCTS_IN_WISHLISTS } from '@magento/peregrine/lib/talons/Wishlist/AddToListButton/addToListButton.gql';\nimport { GET_WISHLIST_ITEMS } from './customerWishlist.gql.ce';\n\nexport default {\n    getProductsInWishlistsQuery: GET_PRODUCTS_IN_WISHLISTS,\n    getWishlistItemsQuery: GET_WISHLIST_ITEMS\n};\n","import { useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { useUserContext } from '../../context/user';\nimport mergeOperations from '../../util/shallowMerge';\n\nimport defaultOperations from './customerWishlist.gql.ee';\n\n/**\n * A hook that queries for products in a customer's wishlists and maintains a\n * list of skus in a local cache entry.\n *\n * @param {DocumentNode} props.operations operations used to prepare the local customer wishlist array\n * @returns {undefined}\n */\nexport const useCustomerWishlistSkus = (props = {}) => {\n    const operations = mergeOperations(defaultOperations, props.operations);\n    const [{ isSignedIn }] = useUserContext();\n\n    const [currentPage, setCurrentPage] = useState(1);\n\n    const {\n        client,\n        data: { customerWishlistProducts }\n    } = useQuery(operations.getProductsInWishlistsQuery);\n\n    useQuery(operations.getWishlistItemsQuery, {\n        fetchPolicy: 'cache-and-network',\n        onCompleted: data => {\n            const itemsToAdd = new Set();\n            const wishlists = data.customer.wishlists;\n            let shouldFetchMore = false;\n            wishlists.map(wishlist => {\n                const items = wishlist.items_v2.items;\n                items.map(item => {\n                    const sku = item.product.sku;\n                    if (!customerWishlistProducts.includes(sku)) {\n                        itemsToAdd.add(sku);\n                    }\n                });\n\n                const pageInfo = wishlist.items_v2.page_info;\n\n                if (pageInfo.total_pages > pageInfo.current_page) {\n                    shouldFetchMore = true;\n                }\n            });\n\n            if (itemsToAdd.size) {\n                client.writeQuery({\n                    query: operations.getProductsInWishlistsQuery,\n                    data: {\n                        customerWishlistProducts: [\n                            ...customerWishlistProducts,\n                            ...itemsToAdd\n                        ]\n                    }\n                });\n            }\n\n            if (shouldFetchMore) {\n                setCurrentPage(current => ++current);\n            }\n        },\n        skip: !isSignedIn,\n        variables: {\n            currentPage\n        }\n    });\n};\n","import { gql } from '@apollo/client';\n\nexport const GET_WISHLIST_CONFIG = gql`\n    query GetWishlistConfigForGalleryCE {\n        storeConfig {\n            id\n            magento_wishlist_general_is_enabled\n        }\n    }\n`;\n\nexport default {\n    getWishlistConfigQuery: GET_WISHLIST_CONFIG\n};\n","import { useQuery } from '@apollo/client';\n\nimport { useCustomerWishlistSkus } from '../../hooks/useCustomerWishlistSkus/useCustomerWishlistSkus';\n\nimport mergeOperations from '../../util/shallowMerge';\nimport defaultOperations from './gallery.gql';\n\nexport const useGallery = (props = {}) => {\n    const operations = mergeOperations(defaultOperations, props.operations);\n\n    useCustomerWishlistSkus();\n\n    const { data: wishlistConfigData } = useQuery(\n        operations.getWishlistConfigQuery,\n        { fetchPolicy: 'cache-and-network' }\n    );\n\n    const storeConfig = wishlistConfigData\n        ? wishlistConfigData.storeConfig\n        : null;\n\n    return {\n        storeConfig\n    };\n};\n","export const useGalleryItem = (props = {}) => {\n    const { item, storeConfig } = props;\n\n    const wishlistButtonProps =\n        storeConfig && storeConfig.magento_wishlist_general_is_enabled === '1'\n            ? {\n                  item: {\n                      sku: item.sku,\n                      quantity: 1\n                  },\n                  storeConfig\n              }\n            : null;\n\n    return { ...props, wishlistButtonProps };\n};\n","import { gql } from '@apollo/client';\n\nexport const ADD_TO_WISHLIST = gql`\n    mutation AddProductToWishlistFromGallery(\n        $wishlistId: ID!\n        $itemOptions: WishlistItemInput!\n    ) {\n        addProductsToWishlist(\n            wishlistId: $wishlistId\n            wishlistItems: [$itemOptions]\n        ) {\n            user_errors {\n                code\n                message\n            }\n        }\n    }\n`;\n\nexport const GET_PRODUCTS_IN_WISHLISTS = gql`\n    query GetProductsInWishlistsForGallery {\n        customerWishlistProducts @client\n    }\n`;\n\nexport default {\n    addProductToWishlistMutation: ADD_TO_WISHLIST,\n    getProductsInWishlistsQuery: GET_PRODUCTS_IN_WISHLISTS\n};\n","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js??ref--6-oneOf-0-1!./gallery.css\";\n\nvar options = {\"injectType\":\"styleTag\"};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React, { useMemo } from 'react';\nimport { string, shape, array } from 'prop-types';\n\nimport { useStyle } from '../../classify';\nimport GalleryItem from './item';\nimport defaultClasses from './gallery.css';\nimport { useGallery } from '@magento/peregrine/lib/talons/Gallery/useGallery';\n\n/**\n * Renders a Gallery of items. If items is an array of nulls Gallery will render\n * a placeholder item for each.\n *\n * @params {Array} props.items an array of items to render\n */\nconst Gallery = props => {\n    const { items } = props;\n    const classes = useStyle(defaultClasses, props.classes);\n    const talonProps = useGallery();\n    const { storeConfig } = talonProps;\n\n    const galleryItems = useMemo(\n        () =>\n            items.map((item, index) => {\n                if (item === null) {\n                    return <GalleryItem key={index} />;\n                }\n                return (\n                    <GalleryItem\n                        key={item.id}\n                        item={item}\n                        storeConfig={storeConfig}\n                    />\n                );\n            }),\n        [items, storeConfig]\n    );\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.items}>{galleryItems}</div>\n        </div>\n    );\n};\n\nGallery.propTypes = {\n    classes: shape({\n        filters: string,\n        items: string,\n        pagination: string,\n        root: string\n    }),\n    items: array.isRequired\n};\n\nexport default Gallery;\n","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js??ref--6-oneOf-0-1!./item.css\";\n\nvar options = {\"injectType\":\"styleTag\"};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React from 'react';\nimport { string, number, shape } from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Price from '@magento/venia-ui/lib/components/Price';\nimport { UNCONSTRAINED_SIZE_KEY } from '@magento/peregrine/lib/talons/Image/useImage';\nimport { useGalleryItem } from '@magento/peregrine/lib/talons/Gallery/useGalleryItem';\nimport { transparentPlaceholder } from '@magento/peregrine/lib/util/images';\nimport resourceUrl from '@magento/peregrine/lib/util/makeUrl';\n\nimport { useStyle } from '../../classify';\nimport Image from '../Image';\nimport defaultClasses from './item.css';\nimport WishlistGalleryButton from '../Wishlist/AddToListButton';\n\n// The placeholder image is 4:5, so we should make sure to size our product\n// images appropriately.\nconst IMAGE_WIDTH = 300;\nconst IMAGE_HEIGHT = 375;\n\n// Gallery switches from two columns to three at 640px.\nconst IMAGE_WIDTHS = new Map()\n    .set(640, IMAGE_WIDTH)\n    .set(UNCONSTRAINED_SIZE_KEY, 840);\n\nconst ItemPlaceholder = ({ classes }) => (\n    <div className={classes.root_pending}>\n        <div className={classes.images_pending}>\n            <Image\n                alt=\"Placeholder for gallery item image\"\n                classes={{\n                    image: classes.image_pending,\n                    root: classes.imageContainer\n                }}\n                src={transparentPlaceholder}\n            />\n        </div>\n        <div className={classes.name_pending} />\n        <div className={classes.price_pending} />\n    </div>\n);\n\nconst GalleryItem = props => {\n    const { handleLinkClick, item, wishlistButtonProps } = useGalleryItem(\n        props\n    );\n\n    const classes = useStyle(defaultClasses, props.classes);\n\n    if (!item) {\n        return <ItemPlaceholder classes={classes} />;\n    }\n\n    const { name, price, small_image, url_key, url_suffix } = item;\n    const { url: smallImageURL } = small_image;\n    const productLink = resourceUrl(`/${url_key}${url_suffix || ''}`);\n\n    const wishlistButton = wishlistButtonProps ? (\n        <WishlistGalleryButton {...wishlistButtonProps} />\n    ) : null;\n\n    return (\n        <div className={classes.root}>\n            <Link\n                onClick={handleLinkClick}\n                to={productLink}\n                className={classes.images}\n            >\n                <Image\n                    alt={name}\n                    classes={{\n                        image: classes.image,\n                        root: classes.imageContainer\n                    }}\n                    height={IMAGE_HEIGHT}\n                    resource={smallImageURL}\n                    widths={IMAGE_WIDTHS}\n                />\n            </Link>\n            <Link\n                onClick={handleLinkClick}\n                to={productLink}\n                className={classes.name}\n            >\n                <span>{name}</span>\n            </Link>\n            <div className={classes.price}>\n                <Price\n                    value={price.regularPrice.amount.value}\n                    currencyCode={price.regularPrice.amount.currency}\n                />\n            </div>\n            <div className={classes.actionsContainer}>{wishlistButton}</div>\n        </div>\n    );\n};\n\nGalleryItem.propTypes = {\n    classes: shape({\n        image: string,\n        imageContainer: string,\n        imagePlaceholder: string,\n        image_pending: string,\n        images: string,\n        images_pending: string,\n        name: string,\n        name_pending: string,\n        price: string,\n        price_pending: string,\n        root: string,\n        root_pending: string\n    }),\n    item: shape({\n        id: number.isRequired,\n        name: string.isRequired,\n        small_image: shape({\n            url: string.isRequired\n        }),\n        url_key: string.isRequired,\n        price: shape({\n            regularPrice: shape({\n                amount: shape({\n                    value: number.isRequired,\n                    currency: string.isRequired\n                }).isRequired\n            }).isRequired\n        }).isRequired\n    }),\n    storeConfig: shape({\n        magento_wishlist_general_is_enabled: string.isRequired\n    })\n};\n\nexport default GalleryItem;\n","import { useCallback, useMemo, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useMutation, useQuery } from '@apollo/client';\n\nimport { useUserContext } from '@magento/peregrine/lib/context/user';\nimport mergeOperations from '@magento/peregrine/lib/util/shallowMerge';\n\nimport defaultOperations from '../addToListButton.gql';\n\nexport const useSingleWishlist = props => {\n    const { afterAdd, beforeAdd, item } = props;\n\n    const operations = mergeOperations(defaultOperations, props.operations);\n\n    const [\n        addProductToWishlist,\n        {\n            data: addProductData,\n            error: errorAddingProduct,\n            loading: isAddingToWishlist\n        }\n    ] = useMutation(operations.addProductToWishlistMutation);\n\n    const {\n        client,\n        data: { customerWishlistProducts }\n    } = useQuery(operations.getProductsInWishlistsQuery);\n\n    const isSelected = useMemo(() => {\n        return (\n            customerWishlistProducts.includes(item.sku) || isAddingToWishlist\n        );\n    }, [customerWishlistProducts, isAddingToWishlist, item.sku]);\n\n    const [showLoginToast, setShowLoginToast] = useState(0);\n\n    const { formatMessage } = useIntl();\n    const [{ isSignedIn }] = useUserContext();\n\n    const handleClick = useCallback(async () => {\n        if (!isSignedIn) {\n            setShowLoginToast(current => ++current);\n        } else {\n            try {\n                if (beforeAdd) {\n                    await beforeAdd();\n                }\n\n                await addProductToWishlist({\n                    variables: { wishlistId: '0', itemOptions: item }\n                });\n\n                client.writeQuery({\n                    query: operations.getProductsInWishlistsQuery,\n                    data: {\n                        customerWishlistProducts: [\n                            ...customerWishlistProducts,\n                            item.sku\n                        ]\n                    }\n                });\n\n                if (afterAdd) {\n                    afterAdd();\n                }\n            } catch (error) {\n                console.error(error);\n            }\n        }\n    }, [\n        addProductToWishlist,\n        afterAdd,\n        beforeAdd,\n        client,\n        customerWishlistProducts,\n        isSignedIn,\n        item,\n        operations.getProductsInWishlistsQuery\n    ]);\n\n    const loginToastProps = useMemo(() => {\n        if (showLoginToast) {\n            return {\n                type: 'info',\n                message: formatMessage({\n                    id: 'wishlist.galleryButton.loginMessage',\n                    defaultMessage:\n                        'Please sign-in to your Account to save items for later.'\n                }),\n                timeout: 5000\n            };\n        }\n\n        return null;\n    }, [formatMessage, showLoginToast]);\n\n    const successToastProps = useMemo(() => {\n        if (addProductData) {\n            return {\n                type: 'success',\n                message: formatMessage({\n                    id: 'wishlist.galleryButton.successMessageGeneral',\n                    defaultMessage:\n                        'Item successfully added to your favorites list.'\n                }),\n                timeout: 5000\n            };\n        }\n\n        return null;\n    }, [addProductData, formatMessage]);\n\n    const errorToastProps = useMemo(() => {\n        if (errorAddingProduct) {\n            return {\n                type: 'error',\n                message: formatMessage({\n                    id: 'wishlist.galleryButton.addError',\n                    defaultMessage:\n                        'Something went wrong adding the product to your wishlist.'\n                }),\n                timeout: 5000\n            };\n        }\n\n        return null;\n    }, [errorAddingProduct, formatMessage]);\n\n    const buttonProps = useMemo(\n        () => ({\n            'aria-label': formatMessage({\n                id: 'wishlistButton.addText',\n                defaultMessage: 'Add to Favorites'\n            }),\n            disabled: isSelected,\n            onClick: handleClick,\n            type: 'button'\n        }),\n        [formatMessage, handleClick, isSelected]\n    );\n\n    return {\n        buttonProps,\n        buttonText: props.buttonText && props.buttonText(isSelected),\n        customerWishlistProducts,\n        errorToastProps,\n        handleClick,\n        isSelected,\n        loginToastProps,\n        successToastProps\n    };\n};\n","import api from \"!../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../css-loader/dist/cjs.js??ref--6-oneOf-0-1!./addToListButton.css\";\n\nvar options = {\"injectType\":\"styleTag\"};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React, { useEffect } from 'react';\nimport { AlertCircle, Check, Info } from 'react-feather';\nimport { useToasts } from '@magento/peregrine';\n\nimport Icon from '../../Icon';\n\nconst CheckIcon = <Icon size={20} src={Check} />;\nconst ErrorIcon = <Icon size={20} src={AlertCircle} />;\nconst InfoIcon = <Icon size={20} src={Info} />;\n\nexport const useCommonToasts = props => {\n    const { errorToastProps, loginToastProps, successToastProps } = props;\n\n    const [, { addToast }] = useToasts();\n\n    useEffect(() => {\n        if (loginToastProps) {\n            addToast({ ...loginToastProps, icon: InfoIcon });\n        }\n    }, [addToast, loginToastProps]);\n\n    useEffect(() => {\n        if (successToastProps) {\n            addToast({ ...successToastProps, icon: CheckIcon });\n        }\n    }, [addToast, successToastProps]);\n\n    useEffect(() => {\n        if (errorToastProps) {\n            addToast({ ...errorToastProps, icon: ErrorIcon });\n        }\n    }, [addToast, errorToastProps]);\n};\n","import React from 'react';\nimport { element, func, shape, string } from 'prop-types';\nimport { Heart } from 'react-feather';\nimport { useAddToListButton } from '@magento/peregrine/lib/talons/Wishlist/AddToListButton/useAddToListButton';\n\nimport { useStyle } from '../../../classify';\nimport Icon from '../../Icon';\nimport defaultClasses from './addToListButton.css';\nimport { useCommonToasts } from './useCommonToasts';\n\nconst HeartIcon = <Icon size={20} src={Heart} />;\n\nconst AddToListButton = props => {\n    const talonProps = useAddToListButton(props);\n    const {\n        buttonProps,\n        buttonText,\n        errorToastProps,\n        isSelected,\n        loginToastProps,\n        successToastProps\n    } = talonProps;\n\n    useCommonToasts({ errorToastProps, loginToastProps, successToastProps });\n\n    const classes = useStyle(defaultClasses, props.classes);\n    const buttonClass = isSelected ? classes.root_selected : classes.root;\n\n    return (\n        <button className={buttonClass} {...buttonProps}>\n            {props.icon} {buttonText}\n        </button>\n    );\n};\n\nexport default AddToListButton;\n\nAddToListButton.defaultProps = {\n    icon: HeartIcon\n};\n\nAddToListButton.propTypes = {\n    afterAdd: func,\n    beforeAdd: func,\n    classes: shape({\n        root: string,\n        root_selected: string\n    }),\n    icon: element\n};\n","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".gallery-root-3Eq {\\n    display: grid;\\n    grid-template-areas:\\n        'actions'\\n        'items';\\n    grid-template-columns: 1fr;\\n    line-height: 1;\\n}\\n\\n.gallery-items-wQU {\\n    display: grid;\\n    grid-area: items;\\n    grid-gap: 1rem;\\n    grid-template-columns: repeat(3, 1fr);\\n    margin-bottom: 10px;\\n}\\n\\n@media (max-width: 640px) {\\n    .gallery-items-wQU {\\n        grid-template-columns: repeat(2, 1fr);\\n    }\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"root\": \"gallery-root-3Eq\",\n\t\"items\": \"gallery-items-wQU\"\n};","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".item-root-3dM {\\n    align-content: start;\\n    display: grid;\\n    row-gap: 0.5rem;\\n}\\n\\n.item-images-1h2 {\\n    display: grid;\\n    grid-template-areas: 'main';\\n}\\n\\n.item-imageContainer-3eG {\\n    grid-area: main;\\n}\\n\\n.item-image-3EX {\\n    display: block;\\n    height: 100%;\\n    object-fit: contain;\\n    opacity: 1;\\n    transition-duration: 512ms;\\n    transition-property: opacity, visibility;\\n    transition-timing-function: ease-out;\\n    visibility: visible;\\n    width: 100%;\\n}\\n\\n.item-imagePlaceholder-1ie {\\n    background-color: rgb(var(--venia-global-color-gray));\\n}\\n\\n.item-actionsContainer-34W {\\n    column-gap: 0.5rem;\\n    display: flex;\\n    justify-content: space-between;\\n}\\n\\n.item-actionsContainer-34W:empty {\\n    display: none;\\n}\\n\\n.item-name-1ji {\\n    font-weight: var(--venia-global-fontWeight-semibold);\\n}\\n\\n.item-name-1ji,\\n.item-price-e8P {\\n    font-size: var(--venia-typography-detail-XL-fontSize);\\n    min-height: 1rem;\\n}\\n\\n/* state: pending */\\n\\n.item-root_pending-2MN {\\n}\\n\\n.item-image_pending-Fix {\\n    background-color: rgb(var(--venia-global-color-gray));\\n}\\n\\n.item-images_pending-2bM {\\n}\\n\\n.item-name_pending-3KT {\\n    background-color: rgb(var(--venia-global-color-gray));\\n}\\n\\n.item-price_pending-M26 {\\n    background-color: rgb(var(--venia-global-color-gray));\\n    width: 3rem;\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"root\": \"item-root-3dM\",\n\t\"images\": \"item-images-1h2\",\n\t\"imageContainer\": \"item-imageContainer-3eG\",\n\t\"image\": \"item-image-3EX\",\n\t\"imagePlaceholder\": \"item-imagePlaceholder-1ie item-image-3EX\",\n\t\"actionsContainer\": \"item-actionsContainer-34W\",\n\t\"name\": \"item-name-1ji\",\n\t\"price\": \"item-price-e8P\",\n\t\"root_pending\": \"item-root_pending-2MN item-root-3dM\",\n\t\"image_pending\": \"item-image_pending-Fix item-image-3EX\",\n\t\"images_pending\": \"item-images_pending-2bM item-images-1h2\",\n\t\"name_pending\": \"item-name_pending-3KT item-name-1ji\",\n\t\"price_pending\": \"item-price_pending-M26 item-price-e8P\"\n};","exports = module.exports = require(\"../../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".addToListButton-root-3XF {\\n    align-content: center;\\n    column-gap: 0.5rem;\\n    display: inline-flex;\\n    margin-left: -0.5rem;\\n    padding: 0 0.5rem;\\n    text-decoration: underline;\\n}\\n\\n.addToListButton-root_selected-cGu {\\n    --selectedColor: rgb(var(--venia-global-color-red-400));\\n    --fill: var(--selectedColor);\\n    --stroke: var(--selectedColor);\\n\\n    text-decoration: none;\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"root\": \"addToListButton-root-3XF\",\n\t\"root_selected\": \"addToListButton-root_selected-cGu addToListButton-root-3XF\"\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Heart = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"\n  }));\n});\nHeart.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nHeart.displayName = 'Heart';\nexport default Heart;"],"sourceRoot":""}