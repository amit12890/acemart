{"version":3,"sources":["webpack:///./node_modules/@magento/venia-ui/lib/components/Mask/mask.css?7ec0","webpack:///./node_modules/@magento/venia-ui/lib/components/Mask/mask.js","webpack:///./node_modules/@magento/venia-ui/lib/components/Portal/portal.js","webpack:///./node_modules/@magento/venia-ui/lib/components/Mask/mask.css","webpack:///./src/venia/components/AccountMenu/accountMenu.css","webpack:///./src/venia/components/AccountMenu/accountMenuItems.css","webpack:///./node_modules/@magento/peregrine/lib/talons/Header/accountMenu.gql.js","webpack:///./node_modules/@magento/peregrine/lib/talons/Header/useAccountMenu.js","webpack:///./src/venia/components/AccountMenu/accountMenuItems.css?ce6b","webpack:///./src/venia/components/AccountMenu/accountMenuItems.js","webpack:///./src/venia/components/AccountMenu/accountMenu.css?5aaf","webpack:///./src/venia/components/AccountMenu/accountMenu.js"],"names":["Mask","props","dismiss","isActive","classes","useStyle","defaultClasses","className","root_active","root","Portal","children","container","isServer","globalThis","document","target","useMemo","HTMLElement","getElementById","createPortal","propTypes","node","object","SIGN_OUT","gql","signOutMutation","useAccountMenu","accountMenuIsOpen","setAccountMenuIsOpen","operations","mergeOperations","DEFAULT_OPERATIONS","view","setView","useState","username","setUsername","history","useHistory","location","useLocation","revokeToken","useMutation","isSignedIn","isUserSignedIn","signOut","useUserContext","handleSignOut","useCallback","go","handleForgotPassword","handleCancel","handleCreateAccount","handleAccountCreation","useEffect","updateUsername","AccountMenuItems","onSignOut","talonProps","useAccountChip","queries","getCustomerDetailsQuery","GET_CUSTOMER_DETAILS","currentUser","isLoadingUserName","headerText","firstname","menuItems","name","id","url","accountPageUrl","myOrderListPage","addressBookPage","myWishlistPage","menu","map","item","link","shape","string","func","AccountMenu","React","forwardRef","ref","push","signupPage","forgotPasswordPage","rootClass","root_open","contentsClass","contents_open","contents","dropdownContents","email","createAccount","modal_active","loading","portalWrapper","modalClose","XIcon","myRoot","icon","myIcon","modalContent"],"mappings":"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","file":"63.7543fedd13702a6be72f.js","sourcesContent":["import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js??ref--6-oneOf-0-1!./mask.css\";\n\nvar options = {\"injectType\":\"styleTag\"};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React from 'react';\n// import PropTypes from 'prop-types';\n\nimport { useStyle } from '../../classify';\nimport defaultClasses from './mask.css';\n\nconst Mask = props => {\n    const { dismiss, isActive } = props;\n    const classes = useStyle(defaultClasses, props.classes);\n    const className = isActive ? classes.root_active : classes.root;\n\n    return <button className={className} onClick={dismiss} />;\n};\n\nexport default Mask;\n\n// /**\n//  * A component that masks content.\n//  *\n//  * @class Mask\n//  * @extends {Component}\n//  *\n//  * @typedef Mask\n//  * @kind class component\n//  *\n//  * @returns {React.Element} A React component that will mask content.\n//  */\n// class Mask extends Component {\n//     /**\n//      * Props for {@link Mask}\n//      *\n//      * @typedef props\n//      *\n//      * @property {Object} classes An object containing the class names for the\n//      * Mask component.\n//      * @property {string} classes.root classes for root container\n//      * @property {string} classes.root_action classes for root container if\n//      * the `isActive` property is `true`.\n//      * @property {Function} dismiss the handler for on the `onClick` event\n//      * handler.\n//      * @property {boolean} isActive whether the mask is in an active state\n//      * or not.\n//      */\n//     static propTypes = {\n//         classes: PropTypes.shape({\n//             root: PropTypes.string,\n//             root_active: PropTypes.string\n//         }),\n//         dismiss: PropTypes.func,\n//         isActive: PropTypes.bool\n//     };\n\n//     render() {\n//         const { classes, dismiss, isActive } = this.props;\n//         const className = isActive ? classes.root_active : classes.root;\n\n//         return <button className={className} onClick={dismiss} />;\n//     }\n// }\n\n// export default classify(defaultClasses)(Mask);\n","import { useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nimport { node, object } from 'prop-types';\n\n/**\n * A component that renders content into a DOM node that exists\n * outside of the DOM hierarchy of the parent component.\n * @see https://reactjs.org/docs/portals.html\n *\n * @typedef Portal\n * @kind functional component\n *\n * @param {ReactNodeLike}   children  - React child elements\n * @param {Object}          container - The DOM node to render the children in\n *\n * @returns {React.ReactPortal} The React portal.\n */\nconst Portal = ({ children, container }) => {\n    const isServer = !globalThis.document;\n\n    // a component must always call the same hooks, so no early returns\n    const target = useMemo(() => {\n        return isServer\n            ? null\n            : container instanceof HTMLElement\n            ? container\n            : document.getElementById('root');\n    }, [container, isServer]);\n\n    // TODO: replace direct usage of Portal with something SSR-compatible\n    return isServer ? null : createPortal(children, target);\n};\n\nexport default Portal;\n\n/**\n * Props for {@link Portal}\n *\n * @typedef props\n *\n * @property {ReactNodeLike} children any elements that will be child\n * elements inside the modal.\n * @property {Object} container the container element (a DOM element)\n * where the children will be rendered.\n */\nPortal.propTypes = {\n    children: node,\n    container: object\n};\n","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".mask-root-3oq {\\n    background-color: black;\\n    cursor: pointer;\\n    display: block;\\n    height: 100%;\\n    left: 0;\\n    opacity: 0;\\n    position: fixed;\\n    top: 0;\\n    transition-duration: 192ms;\\n    transition-property: opacity, visibility;\\n    transition-timing-function: linear;\\n    visibility: hidden;\\n    width: 100%;\\n    z-index: 2;\\n    -webkit-appearance: none;\\n}\\n\\n/* state: active */\\n\\n.mask-root_active-1KO {\\n    opacity: 0.5;\\n    transition-duration: 224ms;\\n    visibility: visible;\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"root\": \"mask-root-3oq\",\n\t\"root_active\": \"mask-root_active-1KO mask-root-3oq\"\n};","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".accountMenu-root-usz {\\n    --content-width: 27.5rem;\\n    \\n    height: 0;\\n    overflow: visible;\\n    opacity: 0;\\n    position: fixed;\\n    top: 100%;\\n    transition: opacity 192ms var(--venia-global-anim-out),\\n    visibility 192ms var(--venia-global-anim-out),\\n        /* Adding delay to move container off the screen after previous transitions happened */\\n            left 0s 192ms;\\n    visibility: hidden;\\n    width: calc(100vw - 2rem);\\n    /* max-width wider than header to let dropdown to move left on wider screens while still staying near the trigger */\\n    max-width: calc(\\n        var(--venia-global-maxWidth) + var(--content-width) * 2 - 25rem\\n    );\\n    z-index: 3;\\n    \\n}\\n\\n.accountMenu-root_open-1rp {\\n    left: 0;\\n    top: 0;\\n    bottom: 0;\\n    opacity: 1;\\n    height: 100%;\\n    right: 0;\\n    transition: opacity 224ms var(--venia-global-anim-in),\\n        visibility 224ms var(--venia-global-anim-in), left 0s, top 0s;\\n    visibility: visible;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    -webkit-box-pack: center;\\n    -ms-flex-pack: center;\\n    justify-content: center;\\n    -webkit-box-align: center;\\n    -ms-flex-align: center;\\n    align-items: center;\\n}\\n\\n.accountMenu-contents-3wu {\\n    background-color: rgb(var(--page-background-color));\\n    border-radius: 1px;\\n    box-shadow: 0 1px 6px rgb(var(--color-gray40) / 0.2);\\n    display: grid;\\n    min-height: 10rem;\\n    transform: translate3d(0, -8px, 0);\\n    transition-duration: 192ms;\\n    transition-property: transform;\\n    transition-timing-function: var(--venia-global-anim-out);\\n    width: var(--content-width);\\n    left: 0;\\n    width: 100%;\\n    max-width: 800px;\\n    margin: 0 auto;\\n    position: relative;\\n    \\n}\\n\\n.accountMenu-contents_open-2Qb {\\n\\n    transform: translate3d(0, 4px, 0);\\n    transition-duration: 224ms;\\n    transition-timing-function: var(--venia-global-anim-in);\\n}\\n\\n.accountMenu-createAccount-2Tn {\\n    display: grid;\\n    gap: 0.9375rem;\\n    justify-items: stretch;\\n    padding: 1rem 1.5rem;\\n}\\n\\n.accountMenu-forgotPassword-2cs {\\n    padding: 2rem;\\n}\\n\\n.accountMenu-loading-1VV {\\n    padding: 2rem;\\n}\\n.accountMenu-portalWrapper-fbl {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n}\\n\\n.accountMenu-myRoot-2HV {\\n    display: inline-flex;\\n    cursor: pointer;\\n    position: absolute;\\n    z-index: 5;\\n    top: .875rem;\\n    right: 1rem;\\n}\\n.accountMenu-modalClose-w52 {\\n    text-align: right;\\n}\\n.accountMenu-myIcon-2hF {\\n    color: rgb(var(--color-gray-middle3));\\n}\\n.accountMenu-myIcon-2hF:hover {\\n    \\n}\\n\\n\\n.accountMenu-modalContent-9Bg {\\n    \\n}\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"root\": \"accountMenu-root-usz\",\n\t\"root_open\": \"accountMenu-root_open-1rp accountMenu-root-usz\",\n\t\"contents\": \"accountMenu-contents-3wu\",\n\t\"contents_open\": \"accountMenu-contents_open-2Qb accountMenu-contents-3wu\",\n\t\"createAccount\": \"accountMenu-createAccount-2Tn\",\n\t\"forgotPassword\": \"accountMenu-forgotPassword-2cs\",\n\t\"loading\": \"accountMenu-loading-1VV\",\n\t\"portalWrapper\": \"accountMenu-portalWrapper-fbl\",\n\t\"myRoot\": \"accountMenu-myRoot-2HV\",\n\t\"modalClose\": \"accountMenu-modalClose-w52\",\n\t\"myIcon\": \"accountMenu-myIcon-2hF\",\n\t\"modalContent\": \"accountMenu-modalContent-9Bg\"\n};","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nexports.i(require(\"-!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../LinkButton/linkButton.css\"), \"\");\n\n// Module\nexports.push([module.id, \".accountMenuItems-root-1j0 {\\n    display: grid;\\n    grid-auto-flow: row;\\n    justify-content: stretch;\\n    row-gap: 1.5rem;\\n    padding: 1.5rem;\\n}\\n\\n.accountMenuItems-link-1RR {\\n\\n    color: rgb(var(--link-color));\\n    justify-content: start;\\n    text-decoration: none;\\n}\\n\\n.accountMenuItems-link-1RR:hover {\\n    color: rgb(var(--link-color-hover));\\n}\\n\\n.accountMenuItems-signOut-17J {\\n\\n    border-top: 2px solid rgb(var(--border-color-base));\\n    padding-top: 1rem;\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"root\": \"accountMenuItems-root-1j0\",\n\t\"link\": \"accountMenuItems-link-1RR \" + require(\"-!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../LinkButton/linkButton.css\").locals[\"root\"] + \"\",\n\t\"signOut\": \"accountMenuItems-signOut-17J accountMenuItems-link-1RR \" + require(\"-!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../LinkButton/linkButton.css\").locals[\"root\"] + \"\"\n};","import { gql } from '@apollo/client';\n\nexport const SIGN_OUT = gql`\n    mutation SignOutFromMenu {\n        revokeCustomerToken {\n            result\n        }\n    }\n`;\n\nexport default {\n    signOutMutation: SIGN_OUT\n};\n","import { useState, useCallback, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\n\nimport mergeOperations from '../../util/shallowMerge';\nimport { useUserContext } from '../../context/user';\n\nimport DEFAULT_OPERATIONS from './accountMenu.gql';\n\n/**\n * The useAccountMenu talon complements the AccountMenu component.\n *\n * @param {Object} props\n * @param {DocumentNode} props.operations.signOutMutation - Mutation to be called for signout.\n * @param {Boolean} props.accountMenuIsOpen - Boolean to notify if the account menu dropdown is open.\n * @param {Function} props.setAccountMenuIsOpen - Function to set the value of accountMenuIsOpen\n *\n * @returns {Object}    talonProps\n * @returns {String}    talonProps.view - Current view.\n * @returns {String}  talonProps.username - Username of the current user trying to login / logged in.\n * @returns {Boolean}   talonProps.isUserSignedIn - Boolean to notify if the user is signed in.\n * @returns {Function}  talonProps.handleSignOut - Function to handle the signout workflow.\n * @returns {Function}  talonProps.handleForgotPassword - Function to handle forgot password workflow.\n * @returns {Function}  talonProps.handleCreateAccount - Function to handle create account workflow.\n * @returns {Function}  talonProps.setUsername - Function to set the username.\n */\n\nexport const useAccountMenu = props => {\n    const { accountMenuIsOpen, setAccountMenuIsOpen } = props;\n\n    const operations = mergeOperations(DEFAULT_OPERATIONS, props.operations);\n    const { signOutMutation } = operations;\n\n    const [view, setView] = useState('SIGNIN');\n    const [username, setUsername] = useState('');\n\n    const history = useHistory();\n    const location = useLocation();\n    const [revokeToken] = useMutation(signOutMutation);\n    const [{ isSignedIn: isUserSignedIn }, { signOut }] = useUserContext();\n\n    const handleSignOut = useCallback(async () => {\n        setView('SIGNIN');\n        setAccountMenuIsOpen(false);\n\n        // Delete cart/user data from the redux store.\n        await signOut({ revokeToken });\n\n        // Refresh the page as a way to say \"re-initialize\". An alternative\n        // would be to call apolloClient.resetStore() but that would require\n        // a large refactor.\n        history.go(0);\n    }, [history, revokeToken, setAccountMenuIsOpen, signOut]);\n\n    const handleForgotPassword = useCallback(() => {\n        setView('FORGOT_PASSWORD');\n    }, []);\n\n    const handleCancel = useCallback(() => {\n        setView('SIGNIN');\n    }, []);\n\n    const handleCreateAccount = useCallback(() => {\n        setView('CREATE_ACCOUNT');\n    }, []);\n\n    const handleAccountCreation = useCallback(() => {\n        setView('ACCOUNT');\n    }, []);\n\n    // Close the Account Menu on page change.\n    // This includes even when the page \"changes\" to the current page.\n    // This can happen when clicking on a link to a page you're already on, for example.\n    useEffect(() => {\n        setAccountMenuIsOpen(false);\n    }, [location, setAccountMenuIsOpen]);\n\n    // Update view based on user status everytime accountMenuIsOpen has changed.\n    useEffect(() => {\n        if (isUserSignedIn) {\n            setView('ACCOUNT');\n        } else {\n            setView('SIGNIN');\n        }\n    }, [accountMenuIsOpen, isUserSignedIn]);\n\n    return {\n        handleAccountCreation,\n        handleCreateAccount,\n        handleForgotPassword,\n        handleCancel,\n        handleSignOut,\n        updateUsername: setUsername,\n        username,\n        view\n    };\n};\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!./accountMenuItems.css\";\n\nvar options = {\"injectType\":\"styleTag\"};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React from 'react';\nimport { func, shape, string } from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router-dom';\n\nimport { useAccountChip } from '@magento/peregrine/lib/talons/AccountChip/useAccountChip';\nimport { GET_CUSTOMER_DETAILS } from '@magento/venia-ui/lib/components/AccountChip/accountChip.gql';\n\nimport { useStyle } from '../../classify';\n\nimport {\n    accountPageUrl,\n    addressBookPage,\n    myOrderListPage,\n    myWishlistPage\n} from '../../../url.utils';\nimport defaultClasses from './accountMenuItems.css';\n\n\nconst AccountMenuItems = props => {\n    const { onSignOut: handleSignOut } = props;\n    const talonProps = useAccountChip({\n        queries: {\n            getCustomerDetailsQuery: GET_CUSTOMER_DETAILS\n        }\n    });\n    const { currentUser, isLoadingUserName, isUserSignedIn } = talonProps;\n\n    let headerText = \"Welcome back\";\n    if (!isLoadingUserName) {\n        headerText = `Welcome back, ${currentUser.firstname}`\n    }\n\n    const menuItems = [\n        {\n            name: 'My Account',\n            id: 'accountMenu.myAccount',\n            url: accountPageUrl()\n        },\n        {\n            name: 'Order History',\n            id: 'accountMenu.orderHistoryLink',\n            url: myOrderListPage()\n        },\n        {\n            name: 'Manage Addresses',\n            id: 'accountMenu.manageAddresses',\n            url: addressBookPage()\n        },\n        {\n            name: 'View Wishlists',\n            id: 'accountMenu.viewWishlists',\n            url: myWishlistPage()\n        }\n    ];\n\n    const classes = useStyle(defaultClasses, props.classes);\n\n    const menu = menuItems.map(item => {\n        return (\n            <Link className={classes.link} key={item.name} to={item.url}>\n                <FormattedMessage id={item.id} defaultMessage={item.name} />\n            </Link>\n        );\n    });\n\n    return (\n        <div className={classes.root}>\n            <div>{headerText}</div>\n            {menu}\n            {!!handleSignOut &&\n                <button\n                    className={classes.signOut}\n                    onClick={handleSignOut}\n                    type=\"button\"\n                >\n                    <FormattedMessage\n                        id={'accountMenu.LogoutButtonText'}\n                        defaultMessage={'Logout'}\n                    />\n                </button>\n            }\n        </div>\n    );\n};\n\nexport default AccountMenuItems;\n\nAccountMenuItems.propTypes = {\n    classes: shape({\n        link: string,\n        signOut: string\n    }),\n    // if parent don't pass onSignOut prop don't show extra signOut button\n    onSignOut: func\n};\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!./accountMenu.css\";\n\nvar options = {\"injectType\":\"styleTag\"};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { shape, string } from 'prop-types';\nimport { useAccountMenu } from '@magento/peregrine/lib/talons/Header/useAccountMenu';\n\nimport { X as XIcon } from 'react-feather';\nimport Icon from '@magento/venia-ui/lib/components/Icon';\n\nimport { useStyle } from '../../classify';\nimport { Portal } from '@magento/venia-ui/lib/components/Portal';\nimport Mask from '@magento/venia-ui/lib/components/Mask';\nimport CreateAccount from '../CreateAccount';\nimport SignIn from '../SignIn';\nimport AccountMenuItems from './accountMenuItems';\nimport ForgotPassword from '../ForgotPassword';\nimport defaultClasses from './accountMenu.css';\nimport { forgotPasswordPage, signupPage } from '../../../url.utils';\n\nconst AccountMenu = React.forwardRef((props, ref) => {\n    const { accountMenuIsOpen, setAccountMenuIsOpen } = props;\n    const history = useHistory();\n    const talonProps = useAccountMenu({\n        accountMenuIsOpen,\n        setAccountMenuIsOpen\n    });\n    const {\n        view,\n        username,\n        handleAccountCreation,\n        handleSignOut,\n        handleCancel,\n        updateUsername\n    } = talonProps;\n\n    const handleCreateAccount = useCallback(() => {\n        history.push(signupPage());\n    }, []);\n    const handleForgotPassword = useCallback(() => {\n        history.push(forgotPasswordPage());\n    }, []);\n    const classes = useStyle(defaultClasses, props.classes);\n    const rootClass = accountMenuIsOpen ? classes.root_open : classes.root;\n    const contentsClass = accountMenuIsOpen\n        ? classes.contents_open\n        : classes.contents;\n\n    let dropdownContents = null;\n\n    switch (view) {\n        case 'ACCOUNT': {\n            dropdownContents = <AccountMenuItems onSignOut={handleSignOut} />;\n\n            break;\n        }\n        case 'FORGOT_PASSWORD': {\n            dropdownContents = (\n                <ForgotPassword\n                    initialValues={{ email: username }}\n                    onCancel={handleCancel}\n                />\n            );\n\n            break;\n        }\n        case 'CREATE_ACCOUNT': {\n            dropdownContents = (\n                <CreateAccount\n                    classes={{ root: classes.createAccount }}\n                    initialValues={{ email: username }}\n                    isCancelButtonHidden={false}\n                    onSubmit={handleAccountCreation}\n                    onCancel={handleCancel}\n                />\n            );\n\n            break;\n        }\n        case 'SIGNIN':\n        default: {\n            dropdownContents = (\n                <SignIn\n                    classes={{\n                        modal_active: classes.loading\n                    }}\n                    isPopup={true}\n                    setDefaultUsername={updateUsername}\n                    showCreateAccount={handleCreateAccount}\n                    showForgotPassword={handleForgotPassword}\n                />\n            );\n\n            break;\n        }\n    }\n\n    return (\n        <Portal>\n            <div className={classes.portalWrapper}>\n                <Mask isActive={accountMenuIsOpen} />\n                <div className={rootClass}>\n\n                    <div ref={ref} className={contentsClass}>\n                        <div\n                            className={classes.modalClose}\n                            onClick={() => setAccountMenuIsOpen(false)}>\n\n                            <Icon\n                                src={XIcon}\n                                classes={{\n                                    root: classes.myRoot,\n                                    icon: classes.myIcon\n                                }} />\n\n                        </div>\n                        <div className={classes.modalContent}>\n                            {accountMenuIsOpen ? dropdownContents : null}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Portal>\n    );\n});\n\nexport default AccountMenu;\n\nAccountMenu.propTypes = {\n    classes: shape({\n        root: string,\n        root_open: string,\n        link: string,\n        contents_open: string,\n        contents: string\n    })\n};\n"],"sourceRoot":""}